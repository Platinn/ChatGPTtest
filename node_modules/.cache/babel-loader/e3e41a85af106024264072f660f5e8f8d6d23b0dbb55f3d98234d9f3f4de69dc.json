{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'https://api.openai.com/v1/chat/completions';\nconst userToken = sessionStorage.getItem('userToken');\nexport const sendMessage = async (message, userToken) => {\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${userToken}`\n  };\n  const data = {\n    model: 'gpt-3.5-turbo-0301',\n    messages: [{\n      role: 'system',\n      content: 'You are a helpful assistant.'\n    }, {\n      role: 'user',\n      content: message\n    }],\n    max_tokens: 100,\n    n: 1,\n    temperature: 0.8\n  };\n  try {\n    const response = await axios.post(API_URL, data, {\n      headers\n    });\n    return response.data.choices[0].message.content.trim();\n  } catch (error) {\n    console.error('Error:', error);\n  }\n};","map":{"version":3,"names":["axios","API_URL","userToken","sessionStorage","getItem","sendMessage","message","headers","data","model","messages","role","content","max_tokens","n","temperature","response","post","choices","trim","error","console"],"sources":["/Users/plbiojout/Documents/code/naiad-gpt/chatgpttest2.1/src/ChatGPTAPI.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://api.openai.com/v1/chat/completions';\n\nconst userToken = sessionStorage.getItem('userToken');\n\nexport const sendMessage = async (message, userToken) => {\n\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${userToken}`,\n  };\n\n  const data = {\n    model: 'gpt-3.5-turbo-0301',\n    messages: [\n      {\n        role: 'system',\n        content: 'You are a helpful assistant.',\n      },\n      {\n        role: 'user',\n        content: message,\n      },\n    ],\n    max_tokens: 100,\n    n: 1,\n    temperature: 0.8,\n  };\n\n  try {\n    const response = await axios.post(API_URL, data, { headers });\n    return response.data.choices[0].message.content.trim();\n  } catch (error) {\n    console.error('Error:', error);\n  }\n};\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,4CAA4C;AAE5D,MAAMC,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC;AAErD,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOC,OAAO,EAAEJ,SAAS,KAAK;EAEvD,MAAMK,OAAO,GAAG;IACd,cAAc,EAAE,kBAAkB;IAClC,eAAe,EAAG,UAASL,SAAU;EACvC,CAAC;EAED,MAAMM,IAAI,GAAG;IACXC,KAAK,EAAE,oBAAoB;IAC3BC,QAAQ,EAAE,CACR;MACEC,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAE;IACX,CAAC,EACD;MACED,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEN;IACX,CAAC,CACF;IACDO,UAAU,EAAE,GAAG;IACfC,CAAC,EAAE,CAAC;IACJC,WAAW,EAAE;EACf,CAAC;EAED,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAChB,OAAO,EAAEO,IAAI,EAAE;MAAED;IAAQ,CAAC,CAAC;IAC7D,OAAOS,QAAQ,CAACR,IAAI,CAACU,OAAO,CAAC,CAAC,CAAC,CAACZ,OAAO,CAACM,OAAO,CAACO,IAAI,EAAE;EACxD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;EAChC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}